<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Git | 前端知识总结</title>
    <meta name="description" content="我的个人网站">
    <link rel="icon" href="/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.75df391b.css" as="style"><link rel="preload" href="/assets/js/app.550883f8.js" as="script"><link rel="preload" href="/assets/js/6.232b786f.js" as="script"><link rel="prefetch" href="/assets/js/10.103585c3.js"><link rel="prefetch" href="/assets/js/11.00d1804d.js"><link rel="prefetch" href="/assets/js/12.56b1bc69.js"><link rel="prefetch" href="/assets/js/13.121d82b4.js"><link rel="prefetch" href="/assets/js/14.45594fa8.js"><link rel="prefetch" href="/assets/js/15.ad861aa0.js"><link rel="prefetch" href="/assets/js/16.c24c9001.js"><link rel="prefetch" href="/assets/js/17.0e089bde.js"><link rel="prefetch" href="/assets/js/18.a07646d9.js"><link rel="prefetch" href="/assets/js/19.65556cf4.js"><link rel="prefetch" href="/assets/js/2.308566b2.js"><link rel="prefetch" href="/assets/js/20.a2eaa849.js"><link rel="prefetch" href="/assets/js/21.36a661a0.js"><link rel="prefetch" href="/assets/js/22.f97dc910.js"><link rel="prefetch" href="/assets/js/23.bfa7b2c5.js"><link rel="prefetch" href="/assets/js/24.b6555743.js"><link rel="prefetch" href="/assets/js/25.af5fe5ca.js"><link rel="prefetch" href="/assets/js/26.91339144.js"><link rel="prefetch" href="/assets/js/27.1ff73072.js"><link rel="prefetch" href="/assets/js/28.435540ec.js"><link rel="prefetch" href="/assets/js/29.f15d8505.js"><link rel="prefetch" href="/assets/js/3.894847c3.js"><link rel="prefetch" href="/assets/js/30.5012497b.js"><link rel="prefetch" href="/assets/js/31.d8c2f5dd.js"><link rel="prefetch" href="/assets/js/32.dfcf8d52.js"><link rel="prefetch" href="/assets/js/33.e9d8a3d4.js"><link rel="prefetch" href="/assets/js/34.23cb6359.js"><link rel="prefetch" href="/assets/js/35.eee977ee.js"><link rel="prefetch" href="/assets/js/36.77b11067.js"><link rel="prefetch" href="/assets/js/37.ef0c1e5b.js"><link rel="prefetch" href="/assets/js/38.7c3db299.js"><link rel="prefetch" href="/assets/js/4.b06022f6.js"><link rel="prefetch" href="/assets/js/5.c68b8d36.js"><link rel="prefetch" href="/assets/js/7.1ac6518a.js"><link rel="prefetch" href="/assets/js/8.fe21a8e6.js"><link rel="prefetch" href="/assets/js/9.6b9fb30e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.75df391b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端知识总结</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/base/css/" class="nav-link">Css</a></li><li class="dropdown-item"><!----> <a href="/base/js/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/base/interview/" class="nav-link">汇总</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/frame/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/frame/element/" class="nav-link">Element</a></li><li class="dropdown-item"><!----> <a href="/frame/node/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/frame/miniprogram/" class="nav-link">小程序</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/chrome/" class="nav-link">Chrome</a></li><li class="dropdown-item"><!----> <a href="/tools/npm/" class="nav-link">NPM</a></li><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link router-link-exact-active router-link-active">Git</a></li><li class="dropdown-item"><!----> <a href="/tools/webpack/" class="nav-link">Webpack</a></li></ul></div></div><div class="nav-item"><a href="https://blog.csdn.net/greybearchao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/base/css/" class="nav-link">Css</a></li><li class="dropdown-item"><!----> <a href="/base/js/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/base/interview/" class="nav-link">汇总</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/frame/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/frame/element/" class="nav-link">Element</a></li><li class="dropdown-item"><!----> <a href="/frame/node/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/frame/miniprogram/" class="nav-link">小程序</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/chrome/" class="nav-link">Chrome</a></li><li class="dropdown-item"><!----> <a href="/tools/npm/" class="nav-link">NPM</a></li><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link router-link-exact-active router-link-active">Git</a></li><li class="dropdown-item"><!----> <a href="/tools/webpack/" class="nav-link">Webpack</a></li></ul></div></div><div class="nav-item"><a href="https://blog.csdn.net/greybearchao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/tools/git/" class="active sidebar-link">Git</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools/git/#基本操作" class="sidebar-link">基本操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools/git/#撤销master分支上的提交" class="sidebar-link">撤销master分支上的提交</a></li><li class="sidebar-sub-header"><a href="/tools/git/#使用远程release分支的代码覆盖本地devp分支的代码" class="sidebar-link">使用远程release分支的代码覆盖本地devp分支的代码</a></li><li class="sidebar-sub-header"><a href="/tools/git/#首次提交" class="sidebar-link">首次提交</a></li><li class="sidebar-sub-header"><a href="/tools/git/#代码合并" class="sidebar-link">代码合并</a></li><li class="sidebar-sub-header"><a href="/tools/git/#切换至master分支报错" class="sidebar-link">切换至master分支报错</a></li><li class="sidebar-sub-header"><a href="/tools/git/#git-bash-界面无法操作" class="sidebar-link">git bash 界面无法操作</a></li><li class="sidebar-sub-header"><a href="/tools/git/#代码恢复" class="sidebar-link">代码恢复</a></li><li class="sidebar-sub-header"><a href="/tools/git/#git-stash-的应用" class="sidebar-link">git stash 的应用</a></li><li class="sidebar-sub-header"><a href="/tools/git/#报错信息" class="sidebar-link">报错信息</a></li><li class="sidebar-sub-header"><a href="/tools/git/#版本回退-不区分大小写" class="sidebar-link">版本回退(不区分大小写)</a></li><li class="sidebar-sub-header"><a href="/tools/git/#版本恢复" class="sidebar-link">版本恢复</a></li><li class="sidebar-sub-header"><a href="/tools/git/#撤消工作区修改" class="sidebar-link">撤消工作区修改</a></li><li class="sidebar-sub-header"><a href="/tools/git/#撤销暂存区修改" class="sidebar-link">撤销暂存区修改</a></li><li class="sidebar-sub-header"><a href="/tools/git/#删除版本库中的文件" class="sidebar-link">删除版本库中的文件</a></li><li class="sidebar-sub-header"><a href="/tools/git/#连接远程" class="sidebar-link">连接远程</a></li><li class="sidebar-sub-header"><a href="/tools/git/#解决冲突" class="sidebar-link">解决冲突</a></li><li class="sidebar-sub-header"><a href="/tools/git/#fast-forward模式" class="sidebar-link">Fast forward模式</a></li><li class="sidebar-sub-header"><a href="/tools/git/#修复bug分支" class="sidebar-link">修复Bug分支</a></li><li class="sidebar-sub-header"><a href="/tools/git/#删除feature分支" class="sidebar-link">删除feature分支</a></li><li class="sidebar-sub-header"><a href="/tools/git/#多人协作" class="sidebar-link">多人协作</a></li><li class="sidebar-sub-header"><a href="/tools/git/#创建标签" class="sidebar-link">创建标签</a></li><li class="sidebar-sub-header"><a href="/tools/git/#删除远程文件" class="sidebar-link">删除远程文件</a></li><li class="sidebar-sub-header"><a href="/tools/git/#项目开发流程" class="sidebar-link">项目开发流程</a></li><li class="sidebar-sub-header"><a href="/tools/git/#本地创建-sshkey" class="sidebar-link">本地创建 sshkey</a></li><li class="sidebar-sub-header"><a href="/tools/git/#本地仓库与远程的gitlab和github连接" class="sidebar-link">本地仓库与远程的gitLab和gitHub连接</a></li></ul></li><li class="sidebar-sub-header"><a href="/tools/git/#常用命令" class="sidebar-link">常用命令</a></li><li class="sidebar-sub-header"><a href="/tools/git/#其它" class="sidebar-link">其它</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/tools/git/#命令区别" class="sidebar-link">命令区别</a></li><li class="sidebar-sub-header"><a href="/tools/git/#文件部署" class="sidebar-link">文件部署</a></li></ul></li></ul></li></ul> </div> <div class="page"> <div class="content"><p><a href="https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000" class="fb_t">推荐学习地址</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></p> <h2 id="基本操作"><a href="#基本操作" aria-hidden="true" class="header-anchor">#</a> 基本操作</h2> <h3 id="撤销master分支上的提交"><a href="#撤销master分支上的提交" aria-hidden="true" class="header-anchor">#</a> 撤销master分支上的提交</h3> <p>（类似于版本回退）</p> <p>git revert 命令意思是撤销某次提交。它会产生一个新的提交，虽然代码回退了，但是版本依然是向前的。</p> <p>连续执行两次revert HEAD命令，等同于没执行。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git revert HEAD    // 撤销最近一次提交
git revert HEAD~1  // 撤销上上次的提交，注意：数字从0开始
git revert 0ffaacc // 撤销指定的commit_id
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="使用远程release分支的代码覆盖本地devp分支的代码"><a href="#使用远程release分支的代码覆盖本地devp分支的代码" aria-hidden="true" class="header-anchor">#</a> 使用远程release分支的代码覆盖本地devp分支的代码</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>git checkout devp
git reset --hard origin/release
git add -A
git commit -m 'reset to release'
git push -f // 强推
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="首次提交"><a href="#首次提交" aria-hidden="true" class="header-anchor">#</a> 首次提交</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>git push -u origin master
// 建立本地 master 分支与远程 master 分支的连接
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="代码合并"><a href="#代码合并" aria-hidden="true" class="header-anchor">#</a> 代码合并</h3> <p class="fg_t">例：将本地分支：feature/abc/v1 代码推送至远程分支：feature/v1 上</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>1. git branch -a // 查看是否存在远程分支remotes/origin/feature/v1,不存在执行2

2. 
  方式一: git fetch // 抓取远程分支
  方式二: git checkout -b feature/v1 origin/feature/v1(创建新分支并建立与远程分支的连接)

3. git checkout feature/v1 // 切换分支

4. git pull // 拉取远程分支 feature/v1 代码至本地 
// 若拉取失败，说明未建立连接，执行git branch --set-upstream-to feature/v1 origin/feature/v1
 
5. git merge feature/abc/v1  //合并分支
// 若有冲突，git status查看发生冲突的文件，手动解决冲突。

6. git push
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="切换至master分支报错"><a href="#切换至master分支报错" aria-hidden="true" class="header-anchor">#</a> 切换至master分支报错</h3> <div class="danger custom-block"><p class="custom-block-title">错误信息</p> <p>error: pathspec 'master' did not match any file(s) known to git</p></div> <p>原因: 本地不存在 master 分支。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 解决办法
git branch -a // 查看分支

git fetch // 抓取远程分支至本地

git checkout master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="git-bash-界面无法操作"><a href="#git-bash-界面无法操作" aria-hidden="true" class="header-anchor">#</a> git bash 界面无法操作</h3> <p class="fg_t">例1：merge时报错?</p> <div class="danger custom-block"><p class="custom-block-title">错误信息</p> <p>Please enter a commit message to explain why this merge is necessary.</p></div> <p>此时界面无法操作，输入:wq 即可。</p> <p><a href="https://www.cnblogs.com/wei325/p/5278922.html" target="_blank" rel="noopener noreferrer">详见<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p class="fg_t">例2：如何退出git log 或 git show?</p> <p>按下英文状态的 &quot;q&quot; 键即可。</p> <p class="fg_t">例3: git bash无法输入内容。</p> <p>此时终端实际上是可以输入内容的，只是看不到，解决办法：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//输入
reset 回车 //具有清屏效果
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="代码恢复"><a href="#代码恢复" aria-hidden="true" class="header-anchor">#</a> 代码恢复</h3> <p class="fg_t">例：误删本地分支和远程分支导致代码丢失，如何恢复？</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git reflog // 查看分支操作历史

git branch &lt;branch_name&gt; HEAD@{4} // 恢复指定的分支
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="git-stash-的应用"><a href="#git-stash-的应用" aria-hidden="true" class="header-anchor">#</a> git stash 的应用</h3> <p>需求：从远程分支上拉到本地的master分支，直接修改master分支上内容发现应该在新分支上应用修改并且撤销对master分支修改。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//情形一：只有工作区修改，未进行git commit操作

git stash // 存储工作区修改
git checkout -b feature/new/v1 // 从master分支上切出新的分支
git stash list // 查看现有的储藏
git stash pop // 应用最新的储藏并清除当前的储藏

// 情形二：进行了git commit操作并且又有新的修改未提交

git reflog // 查看历史
git reset --soft [commit_id] // 回退到commit之前的那个版本并且保留所有修改
git stash // 存储所有修改
git checkout -b feature/new/v1
git stash pop // 应用先前在master分支上的所有修改
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h3 id="报错信息"><a href="#报错信息" aria-hidden="true" class="header-anchor">#</a> 报错信息</h3> <p class="fg_t">例1：git pull 提示 no tracking information。</p> <p>原因：本地分支和远程分支的连接关系没有创建，执行命令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git branch --set-upstream-to dev origin/dev

//附：创建远程origin的dev分支到本地

git checkout -b dev origin/dev

//这样本地的dev分支就和远程的dev分支建立连接

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h3 id="版本回退-不区分大小写"><a href="#版本回退-不区分大小写" aria-hidden="true" class="header-anchor">#</a> 版本回退(不区分大小写)</h3> <p><strong>前提：未推送到远程</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>当前版本：HEAD。

上一个版本：HEAD^。

上上个版本：HEAD^^。

往上100个版本： HEAD~100

//回退到上个版本
git reset --hard HEAD^
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="版本恢复"><a href="#版本恢复" aria-hidden="true" class="header-anchor">#</a> 版本恢复</h3> <p>恢复到回退前的版本就必须知道之前版本的版本号。通过git reflog查看你使用过的每一个命令：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git reflog //可以获取之前版本的commit id

git reset --hard commit_id //恢复到之前的版本
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="撤消工作区修改"><a href="#撤消工作区修改" aria-hidden="true" class="header-anchor">#</a> 撤消工作区修改</h3> <ol><li><p>readme.txt自修改后还没有被放到暂存区，现在，撤销修改就回到和版本库一模一样的状态；</p></li> <li><p>readme.txt已经添加到暂存区后，又作了修改，现在，撤销修改就回到添加到暂存区后的状态</p></li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>git checkout -- readme.txt
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="撤销暂存区修改"><a href="#撤销暂存区修改" aria-hidden="true" class="header-anchor">#</a> 撤销暂存区修改</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>git reset HEAD readme.txt // 此时回到工作区

git checkout -- readme.txt // 撤销工作区修改
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="删除版本库中的文件"><a href="#删除版本库中的文件" aria-hidden="true" class="header-anchor">#</a> 删除版本库中的文件</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>git rm 文件名

git commit -m &quot;delete&quot;

//误删文件恢复
git checkout -- 文件名

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>git rm相当于在工作区删除文件，因此使用git checkout可以撤销对工作区的操作，但文件只能恢复到最后一次提交前的状态。</p> <h3 id="连接远程"><a href="#连接远程" aria-hidden="true" class="header-anchor">#</a> 连接远程</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>git remote add origin git地址 //关联远程仓库

git push -u origin master //第一次推送master分支的所有内容

git push origin master //此后推送最新修改
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="解决冲突"><a href="#解决冲突" aria-hidden="true" class="header-anchor">#</a> 解决冲突</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>//master分支修改readme内容
git checkout master
git add readme.txt
git commit -m 'modify'

//dev分支修改readme内容
git checkout dev
git add reaadme.txt
git commit -m 'modify'

//merge
git checkout master
git merge dev //出现冲突

1.打开冲突文件，会自动标出冲突位置，如：
&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
Creating a new branch is quick &amp; simple.
=======
Creating a new branch is quick AND simple.
&gt;&gt;&gt;&gt;&gt;&gt;&gt; dev
手动修改此处的内容
2.git add readme.txt
3.git commit -m &quot;merge&quot;

//此时master分支已解决冲突，dev分支直接通过：
git merge master即可
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="fast-forward模式"><a href="#fast-forward模式" aria-hidden="true" class="header-anchor">#</a> Fast forward模式</h3> <p>合并分支时，如果可能，Git会用Fast forward模式，但这种模式下，删除分支后，会丢掉分支信息。</p> <p>要强制禁用Fast forward模式，Git就会在merge时生成一个新的commit，这样，从分支历史上就可以看出分支信息。</p> <p>使用--no-ff禁用Fast forward模式</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git merge --no-ff -m &quot;merge with no-ff&quot; dev
//此次合并生成一个新的commit，因此需要添加commit的描述
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>形如：</p> <p><img src="https://note.youdao.com/yws/api/personal/file/85A6636AC8014281AE2F1DD340796374?method=download&shareKey=f138f4e8945664a3284460f29dc631e6" alt="image"></p> <p>使用Fast forward模式：</p> <p><img src="https://note.youdao.com/yws/api/personal/file/C87FAF920C154BB48F23440545D0ACF8?method=download&shareKey=3e78d4dafcbb2474edd34daa1106e51e" alt="image"></p> <h3 id="修复bug分支"><a href="#修复bug分支" aria-hidden="true" class="header-anchor">#</a> 修复Bug分支</h3> <p>现在在dev分支上开发，但代码未提交，需要切换到master分支上去修复Bug。</p> <p>修复bug时，我们会通过创建新的bug分支进行修复，然后合并，最后删除。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git stash   //储存当前工作状态

git status  //working tree clean

git checkout master //创建临时分支解决冲突

git checkout -b temp //修改冲突

git add readme.txt

git commit -m 'fix bug'

git checkout master

git merge --no-ff -m 'bugfixed' temp

git branch -d temp //删除临时分支

git checkout dev //切换回原分支

git stash list //查看之前存储的工作状态

//状态恢复的两种方式：
1. git stash apply, 但stash内容并不删除，需要用git stash drop删除

2. git stash pop，恢复的同时把stash内容也删了

//可以多次stash，恢复的时候，先用git stash list查看，然后恢复指定的stash
git stash apply stash@{0}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="删除feature分支"><a href="#删除feature分支" aria-hidden="true" class="header-anchor">#</a> 删除feature分支</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>git checkout -b feature/v1 //创建一个新分支

git add readme.txt

git commit -m &quot;new&quot; //添加新功能

git checkout master

//feature/v1分支多余，需删除

git branch -d feature/v1 //报错

git branch -D feature/v1 //强行删除即可
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h3 id="多人协作"><a href="#多人协作" aria-hidden="true" class="header-anchor">#</a> 多人协作</h3> <p>远程仓库名称： remote</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git remote // 查看远程库信息

git remote -v //查看详细信息
origin  git@github.com:michaelliao/learngit.git (fetch)
origin  git@github.com:michaelliao/learngit.git (push)
//显示了可以抓取和推送的origin的地址。如果没有推送权限，就看不到push的地址。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="创建标签"><a href="#创建标签" aria-hidden="true" class="header-anchor">#</a> 创建标签</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>git tag v1.0 //v1.0标签会打在最新的commit上

git tag //查看所有标签

git tag v0.9 f52c633 //针对具体的commit id打tag

git show v0.9 //查看具体的标签信息

git tag -a v0.1 -m &quot;version 0.1 released&quot; 1094adb //创建带有说明的标签，用-a指定标签名，-m指定说明文字

git tag -d v0.1 //删除标签

git push origin v1.0 //推送某个标签至远程

git push origin --tags //一次性推送全部尚未推送至远程的本地标签

//删除远程的tag
git tag -d v0.9 //先删除本地的tag
git push origin :refs/tags/v0.9
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="删除远程文件"><a href="#删除远程文件" aria-hidden="true" class="header-anchor">#</a> 删除远程文件</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>/*先直接删除本地*/
git status/*自动检测到删除操作*/
git commit -am &quot;delete file&quot;
git push/*推送至远程并执行删除操作*/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="项目开发流程"><a href="#项目开发流程" aria-hidden="true" class="header-anchor">#</a> 项目开发流程</h3> <p>每次提交代码前先：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git pull origin 分支名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>每次删除文件或修改文件：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git add 删除的文件或修改的文件
git commit -m &quot;修改内容&quot;
git push origin 分支名
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>出现冲突无法解决时使用远程代码覆盖本地:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git fetch
git reset --hard origin/develop
git pull origin develop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="冲突"><a href="#冲突" aria-hidden="true" class="header-anchor">#</a> 冲突</h4> <p><img src="https://note.youdao.com/yws/api/personal/file/9C95F2FF02B747849FA55BF134D62BE6?method=download&shareKey=96b70b150ace50cadf310c71fac42385" alt="image"></p> <p>原因：分支名冲突，temp/v1与temp冲突</p> <p>解决办法：重新创建一个分支，再push</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>git checkout -b newBranch

git push
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="本地创建-sshkey"><a href="#本地创建-sshkey" aria-hidden="true" class="header-anchor">#</a> 本地创建 sshkey</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>ssh-keygen –t rsa –C qinchao@qianbaocard.com

找到生成的.ssh文件夹，打开id¬_rsa.pub,复制里面的key。添加到远程的ssh key中。

检测是否设置成功：

ssh git@gitlab.qianbaocard.org

设置提交代码时的用户信息

git config [--global] user.name &quot;[name]&quot;

git config [--global] user.email &quot;[email address]&quot;

查看用户信息：

git config user.name

git config user.email
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="本地仓库与远程的gitlab和github连接"><a href="#本地仓库与远程的gitlab和github连接" aria-hidden="true" class="header-anchor">#</a> 本地仓库与远程的gitLab和gitHub连接</h3> <div class="language- line-numbers-mode"><pre class="language-text"><code>配置sshKey

git remote add gitlab 远程仓库名

git remote add github 远程仓库名

//非git remote add origin 远程仓库名

git remote -v //查看连接的远程仓库

//推送代码
git push gitlab master
git push github master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="常用命令"><a href="#常用命令" aria-hidden="true" class="header-anchor">#</a> 常用命令</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>pwd //查看当前目录

ls -ah //查看当前目录下的文件，包含.git文件

git init // 初始化一个空的git仓库

git status //查看当前哪些文件被修改

git diff //即查看difference，可以查看哪些内容被修改

git log //查看提交的历史记录

git log --pretty=oneline //每条历史只显示一行，反馈结果包含commit id（版本号）
该版本号用一串16进制数表示，目的是为了解决多人开发造成版本号冲突。

git diff HEAD -- 文件名 //查看某个版本下某个文件修改的情况

git diff HEAD^ -- 文件名
//查看上个版本修改的内容

git diff 版本号 -- 文件名 //根据版本号查看修改内容

git checkout -- 文件名 //丢弃工作区的修改

git checkout . // 撤销工作区所有的修改

git rebase //把本地未push的分叉提交历史整理成直线

git add -f dist //强制提交被.gitignore忽略的文件

git branch -m dev develop //分支改名

cat README.md //查看文件内容

rm -rf .git //删除本地仓库

git push origin master -f //远程推送失败(强制推送)

git remote add origin git地址 //远程连接

git clone git地址 //克隆项目

git checkout 分支名 //切换分支

git branch 分支名 //创建新分支（必须置于commit之后）

git branch -d dev //删除本地分支

git push origin -d dev //删除远程分支

git config user.name //查看用户名

git config user.email //查看邮箱

git rm 文件名 // 删除文件

git add 文件夹名称 // 上传文件夹

git rm 文件夹名称 -r // 删除文件夹
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><h2 id="其它"><a href="#其它" aria-hidden="true" class="header-anchor">#</a> 其它</h2> <h3 id="命令区别"><a href="#命令区别" aria-hidden="true" class="header-anchor">#</a> 命令区别</h3> <div class="tip custom-block"><p class="custom-block-title">区别</p> <p class="fb_t">git commit -am 和 git commit -m：</p> <p>git commit -am 可以看成是 git add 和 git commit -m</p> <p class="fb_t">git fetch和 git pull：</p> <p>git pull 等同于 git fetch 和 git merge</p> <p class="fb_t">git checkout -b dev：</p>
等价于 git branch dev 和 git checkout dev
<p class="fb_t">git init</p>
输出: Initialized empty Git repository in .../.git/
<p>作用: 初始化一个空的 git 仓库。</p> <p>默认该 .git 目录是隐藏的，使用 <span class="fg_t">ls -ah</span> 查看。</p></div> <p>（1）git中默认分支为master,禁止删除，如果要删除的话需修改当前的默认分支。</p> <p>Settings-&gt;Branches-&gt;Default branch</p> <p>（2）.gitignore:版本管理时过滤一些文件</p> <h3 id="文件部署"><a href="#文件部署" aria-hidden="true" class="header-anchor">#</a> 文件部署</h3> <p>将 js 文件部署到 github 上(直接部署在master分支上的js文件引入项目中是无效的)。</p> <p>步骤：</p> <p>(1) 创建 gh-pages 分支，上传 js 文件。</p> <p>(2) git 项目中 settings</p> <p><img src="/assets/img/git-file.e6f3e719.png" alt="image"></p> <p>js 文件地址：<span class="fg_th">https://qinchao888.github.io/git-test/文件名.js</span></p></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.550883f8.js" defer></script><script src="/assets/js/6.232b786f.js" defer></script>
  </body>
</html>
