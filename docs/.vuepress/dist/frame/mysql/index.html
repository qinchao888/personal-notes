<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>mysql | 前端知识总结</title>
    <meta name="description" content="我的个人网站">
    <meta name="generator" content="VuePress 1.4.0">
    <link rel="icon" href="/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.fe72a0c7.css" as="style"><link rel="preload" href="/assets/js/app.4058b836.js" as="script"><link rel="preload" href="/assets/js/2.8484adb1.js" as="script"><link rel="preload" href="/assets/js/42.8e71cd59.js" as="script"><link rel="prefetch" href="/assets/js/10.e450f61f.js"><link rel="prefetch" href="/assets/js/11.0e25ea3e.js"><link rel="prefetch" href="/assets/js/12.58c3aef5.js"><link rel="prefetch" href="/assets/js/13.daf912e8.js"><link rel="prefetch" href="/assets/js/14.f6d4f222.js"><link rel="prefetch" href="/assets/js/15.0dc7cf05.js"><link rel="prefetch" href="/assets/js/16.72553b4b.js"><link rel="prefetch" href="/assets/js/17.657b10d7.js"><link rel="prefetch" href="/assets/js/18.cdb50b41.js"><link rel="prefetch" href="/assets/js/19.c4da0f60.js"><link rel="prefetch" href="/assets/js/20.c095c2e6.js"><link rel="prefetch" href="/assets/js/21.899c209f.js"><link rel="prefetch" href="/assets/js/22.eb200ceb.js"><link rel="prefetch" href="/assets/js/23.ec3b061e.js"><link rel="prefetch" href="/assets/js/24.7c358ed9.js"><link rel="prefetch" href="/assets/js/25.0fd3c9ff.js"><link rel="prefetch" href="/assets/js/26.9464a41c.js"><link rel="prefetch" href="/assets/js/27.11a08390.js"><link rel="prefetch" href="/assets/js/28.d44dd978.js"><link rel="prefetch" href="/assets/js/29.3b05d3fb.js"><link rel="prefetch" href="/assets/js/3.3f2dcaa5.js"><link rel="prefetch" href="/assets/js/30.373c60ba.js"><link rel="prefetch" href="/assets/js/31.6eca8bb6.js"><link rel="prefetch" href="/assets/js/32.03ebf16a.js"><link rel="prefetch" href="/assets/js/33.51c9411b.js"><link rel="prefetch" href="/assets/js/34.8f2a4c60.js"><link rel="prefetch" href="/assets/js/35.77b24e4b.js"><link rel="prefetch" href="/assets/js/36.60dfd35f.js"><link rel="prefetch" href="/assets/js/37.7fa01666.js"><link rel="prefetch" href="/assets/js/38.aae425b5.js"><link rel="prefetch" href="/assets/js/39.3a2d9ac7.js"><link rel="prefetch" href="/assets/js/4.ae9d3c81.js"><link rel="prefetch" href="/assets/js/40.8ee5d8df.js"><link rel="prefetch" href="/assets/js/41.d88349f8.js"><link rel="prefetch" href="/assets/js/43.890a7d39.js"><link rel="prefetch" href="/assets/js/44.52f21915.js"><link rel="prefetch" href="/assets/js/45.bf4f2dc9.js"><link rel="prefetch" href="/assets/js/46.ce1762ad.js"><link rel="prefetch" href="/assets/js/47.5408d3fc.js"><link rel="prefetch" href="/assets/js/48.e0b3c9fb.js"><link rel="prefetch" href="/assets/js/49.f53eed8f.js"><link rel="prefetch" href="/assets/js/5.50152bbc.js"><link rel="prefetch" href="/assets/js/50.9bfb8dcf.js"><link rel="prefetch" href="/assets/js/51.294bf295.js"><link rel="prefetch" href="/assets/js/52.811aa49f.js"><link rel="prefetch" href="/assets/js/53.f84a416d.js"><link rel="prefetch" href="/assets/js/54.856903f5.js"><link rel="prefetch" href="/assets/js/55.2808d8c1.js"><link rel="prefetch" href="/assets/js/56.6f8a4299.js"><link rel="prefetch" href="/assets/js/57.09a2008b.js"><link rel="prefetch" href="/assets/js/58.62b89700.js"><link rel="prefetch" href="/assets/js/59.d223500a.js"><link rel="prefetch" href="/assets/js/6.a568db92.js"><link rel="prefetch" href="/assets/js/60.6b875ace.js"><link rel="prefetch" href="/assets/js/61.39600b94.js"><link rel="prefetch" href="/assets/js/62.03140d1a.js"><link rel="prefetch" href="/assets/js/63.4d750b97.js"><link rel="prefetch" href="/assets/js/64.83e21012.js"><link rel="prefetch" href="/assets/js/65.c8f92f88.js"><link rel="prefetch" href="/assets/js/66.d0acd5d0.js"><link rel="prefetch" href="/assets/js/67.24f8ecd7.js"><link rel="prefetch" href="/assets/js/68.176cf631.js"><link rel="prefetch" href="/assets/js/69.db62e387.js"><link rel="prefetch" href="/assets/js/7.7fd231da.js"><link rel="prefetch" href="/assets/js/70.d821547a.js"><link rel="prefetch" href="/assets/js/71.ddbd43d9.js"><link rel="prefetch" href="/assets/js/72.4f54b0ed.js"><link rel="prefetch" href="/assets/js/73.aa13ce19.js"><link rel="prefetch" href="/assets/js/74.c4aeec04.js"><link rel="prefetch" href="/assets/js/75.6824bbdf.js"><link rel="prefetch" href="/assets/js/76.bc595243.js"><link rel="prefetch" href="/assets/js/77.a0f38073.js"><link rel="prefetch" href="/assets/js/78.2599e666.js"><link rel="prefetch" href="/assets/js/79.f2b1de05.js"><link rel="prefetch" href="/assets/js/8.becd0e5d.js"><link rel="prefetch" href="/assets/js/9.fb202495.js">
    <link rel="stylesheet" href="/assets/css/0.styles.fe72a0c7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端知识总结</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/base/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/base/js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/base/interview/" class="nav-link">
  汇总
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frame/vue-router/" class="nav-link">
  Vue Router
</a></li><li class="dropdown-item"><!----> <a href="/frame/vuex/" class="nav-link">
  VueX
</a></li><li class="dropdown-item"><!----> <a href="/frame/element/" class="nav-link">
  Element
</a></li><li class="dropdown-item"><!----> <a href="/frame/node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/frame/miniprogram/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/frame/angular/" class="nav-link">
  Angular1.6
</a></li><li class="dropdown-item"><!----> <a href="/frame/mysql/" class="nav-link router-link-exact-active router-link-active">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/frame/typescript/" class="nav-link">
  typescript
</a></li><li class="dropdown-item"><!----> <a href="/frame/axios/" class="nav-link">
  axios
</a></li><li class="dropdown-item"><!----> <a href="/frame/redis/" class="nav-link">
  redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/chrome/" class="nav-link">
  Chrome
</a></li><li class="dropdown-item"><!----> <a href="/tools/npm/" class="nav-link">
  NPM
</a></li><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/tools/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/tools/mac/" class="nav-link">
  Mac
</a></li><li class="dropdown-item"><!----> <a href="/tools/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/tools/js-sdk/" class="nav-link">
  js-sdk
</a></li><li class="dropdown-item"><!----> <a href="/tools/vscode/" class="nav-link">
  vscode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/setting/" class="nav-link">
  配置
</a></li><li class="dropdown-item"><!----> <a href="/other/read/" class="nav-link">
  阅读
</a></li><li class="dropdown-item"><!----> <a href="/other/safety/" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/other/study/" class="nav-link">
  学习
</a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/greybearchao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="基础" class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/base/css/" class="nav-link">
  Css
</a></li><li class="dropdown-item"><!----> <a href="/base/js/" class="nav-link">
  JS
</a></li><li class="dropdown-item"><!----> <a href="/base/interview/" class="nav-link">
  汇总
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frame/vue-router/" class="nav-link">
  Vue Router
</a></li><li class="dropdown-item"><!----> <a href="/frame/vuex/" class="nav-link">
  VueX
</a></li><li class="dropdown-item"><!----> <a href="/frame/element/" class="nav-link">
  Element
</a></li><li class="dropdown-item"><!----> <a href="/frame/node/" class="nav-link">
  Node
</a></li><li class="dropdown-item"><!----> <a href="/frame/miniprogram/" class="nav-link">
  小程序
</a></li><li class="dropdown-item"><!----> <a href="/frame/angular/" class="nav-link">
  Angular1.6
</a></li><li class="dropdown-item"><!----> <a href="/frame/mysql/" class="nav-link router-link-exact-active router-link-active">
  mysql
</a></li><li class="dropdown-item"><!----> <a href="/frame/typescript/" class="nav-link">
  typescript
</a></li><li class="dropdown-item"><!----> <a href="/frame/axios/" class="nav-link">
  axios
</a></li><li class="dropdown-item"><!----> <a href="/frame/redis/" class="nav-link">
  redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工具" class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/chrome/" class="nav-link">
  Chrome
</a></li><li class="dropdown-item"><!----> <a href="/tools/npm/" class="nav-link">
  NPM
</a></li><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/tools/webpack/" class="nav-link">
  Webpack
</a></li><li class="dropdown-item"><!----> <a href="/tools/mac/" class="nav-link">
  Mac
</a></li><li class="dropdown-item"><!----> <a href="/tools/nginx/" class="nav-link">
  nginx
</a></li><li class="dropdown-item"><!----> <a href="/tools/js-sdk/" class="nav-link">
  js-sdk
</a></li><li class="dropdown-item"><!----> <a href="/tools/vscode/" class="nav-link">
  vscode
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其它" class="dropdown-title"><span class="title">其它</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/other/setting/" class="nav-link">
  配置
</a></li><li class="dropdown-item"><!----> <a href="/other/read/" class="nav-link">
  阅读
</a></li><li class="dropdown-item"><!----> <a href="/other/safety/" class="nav-link">
  安全
</a></li><li class="dropdown-item"><!----> <a href="/other/study/" class="nav-link">
  学习
</a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/greybearchao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/frame/mysql/" class="active sidebar-link">基础知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frame/mysql/#基础语法" class="sidebar-link">基础语法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frame/mysql/#语法汇总" class="sidebar-link">语法汇总</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#使用数据库" class="sidebar-link">使用数据库</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#添加字段" class="sidebar-link">添加字段</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#删除字段" class="sidebar-link">删除字段</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#更新" class="sidebar-link">更新</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#表中插入新的数据" class="sidebar-link">表中插入新的数据</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#回滚" class="sidebar-link">回滚</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#limit-和-offset-的用法" class="sidebar-link">limit 和 offset 的用法</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#alter操作" class="sidebar-link">alter操作</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#注释" class="sidebar-link">注释</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#mysql-命令行格式化" class="sidebar-link">mysql 命令行格式化</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#表操作" class="sidebar-link">表操作</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#通配符" class="sidebar-link">通配符</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#转义字符" class="sidebar-link">转义字符</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#union-操作符" class="sidebar-link">UNION 操作符</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#排序" class="sidebar-link">排序</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#分组" class="sidebar-link">分组</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#连接" class="sidebar-link">连接</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#null-值处理" class="sidebar-link">NULL 值处理</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#复制表" class="sidebar-link">复制表</a></li><li class="sidebar-sub-header"><a href="/frame/mysql/#sum-if-的用法" class="sidebar-link">SUM IF 的用法</a></li></ul></li></ul></li><li><a href="/frame/mysql/other.html" class="sidebar-link">其他用法</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="基础语法"><a href="#基础语法" class="header-anchor">#</a> 基础语法</h2> <div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>执行顺序：select –&gt;where –&gt; group by–&gt; having–&gt;order by</p></div> <h3 id="语法汇总"><a href="#语法汇总" class="header-anchor">#</a> 语法汇总</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/* 数据库名称：qinchao  表名称：userinfo */</span>
show databases<span class="token punctuation">;</span>	<span class="token comment">// 显示所有的数据库</span>
use  数据库名称<span class="token punctuation">;</span> 	<span class="token comment">// 使用指定的数据库</span>
show tables<span class="token punctuation">;</span> 		<span class="token comment">// 查看所有的表</span>
desc 表名<span class="token punctuation">;</span> 		<span class="token comment">// 查看表结构（&lt;=&gt; show columns from 表名）</span>
select <span class="token function">version</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 服务器版本信息</span>
select <span class="token function">database</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 查看当前使用的数据库</span>
select <span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 查看当前使用的用户</span>
show status<span class="token punctuation">;</span> <span class="token comment">// 服务器状态</span>
show variables<span class="token punctuation">;</span> <span class="token comment">// 服务器配置变量</span>
<span class="token keyword">set</span> password <span class="token keyword">for</span> root@localhost<span class="token operator">=</span><span class="token function">password</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 给当前用户重新设置密码</span>
exit<span class="token punctuation">;</span> <span class="token comment">// 退出mysql</span>

create database qinchao<span class="token punctuation">;</span> <span class="token comment">// 创建一个数据库</span>
drop database qinchao<span class="token punctuation">;</span> <span class="token comment">// 删除数据库</span>

create table <span class="token function">userinfo</span><span class="token punctuation">(</span>name <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span> age int<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 在当前数据库下创建一个新表</span>
create table qinchao<span class="token punctuation">.</span><span class="token function">userinfo</span><span class="token punctuation">(</span>name <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span> age int<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 给指定的数据库创建一个新表</span>
drop table userinfo<span class="token punctuation">;</span> <span class="token comment">// 删除指定的表</span>
insert into <span class="token function">userinfo</span><span class="token punctuation">(</span>age<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token function">values</span> <span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">,</span> <span class="token string">'22'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 给表中插入数据</span>
<span class="token keyword">delete</span> <span class="token keyword">from</span> userinfo<span class="token punctuation">;</span> <span class="token comment">// 删除表中的所有数据</span>

show create table userinfo<span class="token punctuation">;</span> <span class="token comment">// 查看表的注释</span>
show full columns <span class="token keyword">from</span> userinfo<span class="token punctuation">;</span> <span class="token comment">// 查看所有字段的注释</span>
select <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> information_schema<span class="token punctuation">.</span>columns where table_schema <span class="token operator">=</span> <span class="token string">'qinchao'</span> and table_name <span class="token operator">=</span> <span class="token string">'userinfo'</span><span class="token punctuation">;</span> <span class="token comment">// 统计当前表中的所有字段数量</span>

create temporary table <span class="token function">a</span><span class="token punctuation">(</span>name <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span> age int<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建临时表</span>
<span class="token comment">// 临时表无法使用 show tables 查看</span>
show create table userinfo <span class="token comment">// 查看创建userinfo表的语句</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br></div></div><h3 id="使用数据库"><a href="#使用数据库" class="header-anchor">#</a> 使用数据库</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&gt;</span> mysql <span class="token operator">-</span>u root <span class="token operator">-</span>p
<span class="token operator">&gt;</span> 输入密码
<span class="token operator">&gt;</span> use 数据库名称
<span class="token operator">&gt;</span> 执行sql语句

<span class="token operator">--</span> 连接远程数据库
<span class="token operator">&gt;</span> mysql <span class="token operator">-</span>h host <span class="token operator">-</span><span class="token constant">P</span> <span class="token number">3306</span> <span class="token operator">-</span>u 用户名 <span class="token operator">-</span>p密码

<span class="token operator">--</span> 例
<span class="token operator">&gt;</span> mysql <span class="token operator">-</span>h <span class="token number">10.10</span><span class="token number">.10</span><span class="token number">.10</span> <span class="token operator">-</span><span class="token constant">P</span> <span class="token number">3306</span> <span class="token operator">-</span>u qinchao <span class="token operator">-</span>p123456
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h3 id="添加字段"><a href="#添加字段" class="header-anchor">#</a> 添加字段</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">ALTER</span> <span class="token constant">TABLE</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">partner_corp_contact</span><span class="token template-punctuation string">`</span></span> <span class="token constant">ADD</span> <span class="token constant">COLUMN</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">job_name</span><span class="token template-punctuation string">`</span></span> <span class="token constant">VARCHAR</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token constant">AFTER</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">name</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="删除字段"><a href="#删除字段" class="header-anchor">#</a> 删除字段</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">ALTER</span> <span class="token constant">TABLE</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">member</span><span class="token template-punctuation string">`</span></span> drop column <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">member_job_name</span><span class="token template-punctuation string">`</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="更新"><a href="#更新" class="header-anchor">#</a> 更新</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>update tablename <span class="token keyword">set</span> age<span class="token operator">=</span><span class="token string">'newage'</span> where age<span class="token operator">=</span><span class="token string">''</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="表中插入新的数据"><a href="#表中插入新的数据" class="header-anchor">#</a> 表中插入新的数据</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>insert into userinfo <span class="token function">values</span> <span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">,</span> <span class="token string">'22'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 给表中插入数据</span>
insert into <span class="token function">userinfo</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token function">values</span> <span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">,</span> <span class="token string">'22'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 给表中插入数据</span>
insert into userinfo <span class="token function">values</span> <span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">,</span> <span class="token string">'22'</span><span class="token punctuation">,</span> <span class="token string">'33'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ERROR 1136 (21S01): Column count doesn't match value count at row 1</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><table><thead><tr><th style="text-align:left;">name</th> <th style="text-align:center;">age</th></tr></thead> <tbody><tr><td style="text-align:left;">11</td> <td style="text-align:center;">22</td></tr></tbody></table> <div class="language-js line-numbers-mode"><pre class="language-js"><code>insert into <span class="token function">userinfo</span><span class="token punctuation">(</span>age<span class="token punctuation">,</span> name<span class="token punctuation">)</span> <span class="token function">values</span> <span class="token punctuation">(</span><span class="token string">'11'</span><span class="token punctuation">,</span> <span class="token string">'22'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 给表中插入数据</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><table><thead><tr><th style="text-align:left;">name</th> <th style="text-align:center;">age</th></tr></thead> <tbody><tr><td style="text-align:left;">22</td> <td style="text-align:center;">11</td></tr></tbody></table> <h3 id="回滚"><a href="#回滚" class="header-anchor">#</a> 回滚</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&gt;</span> start transaction<span class="token punctuation">;</span> <span class="token comment">// 标识一个事务</span>
<span class="token operator">&gt;</span> <span class="token keyword">delete</span> <span class="token keyword">from</span> userinfo<span class="token punctuation">;</span>
<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> userinfo<span class="token punctuation">;</span> <span class="token comment">// Query OK, 0 rows affected (0.01 sec)</span>
<span class="token operator">&gt;</span> rollback<span class="token punctuation">;</span> <span class="token comment">// 回滚</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p class="fr_th">ROLLBACK 只能在一个事务处理内使用（在执行一条 START TRANSACTION 命令之后）</p> <h3 id="limit-和-offset-的用法"><a href="#limit-和-offset-的用法" class="header-anchor">#</a> limit 和 offset 的用法</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> table limit <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">// 读取10条数据</span>

select <span class="token operator">*</span> <span class="token keyword">from</span> table limit <span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 从第二条数据后取一条数据，即取第3条数据</span>

select <span class="token operator">*</span> <span class="token keyword">from</span> table limit <span class="token number">2</span> offset <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 从第一条数据后取2条数据，limit后面跟的是2条数据，offset后面是从第1条开始读取，即读取第2,3条</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="alter操作"><a href="#alter操作" class="header-anchor">#</a> alter操作</h3> <ol><li>修改字段的数据类型</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>alter table userinfo modify column id <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="2"><li>修改字段名称</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>alter table userinfo change id userinfo_id int<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li>删除某个字段</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>alter table userinfo drop name<span class="token punctuation">;</span> <span class="token comment">// 只剩余一个字段则无法使用DROP来删除字段</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="4"><li>新增某个字段</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>alter table userinfo add age int<span class="token punctuation">;</span> <span class="token comment">// 需要指定字段的数据类型</span>

alter table userinfo add age int after name<span class="token punctuation">;</span> <span class="token comment">// 添加的字段位于name字段后</span>
alter table userinfo add age int first<span class="token punctuation">;</span> <span class="token comment">// 添加的字段位于第一列</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="5"><li>修改字段默认值</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>alter table userinfo alter age <span class="token keyword">set</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">// 设置默认值为0</span>
<span class="token comment">// 或</span>
alter table userinfo modify age int <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>

alter table userinfo alter age drop <span class="token keyword">default</span><span class="token punctuation">;</span> <span class="token comment">// 删除字段默认值</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="6"><li>修改字段不允许为null</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>alter table userinfo modify age int not <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 需要加上数据类型才能设置成功（如果已有的数据中的age存在null值则修改失败）</span>

alter table userinfo modify age int <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// 允许设置为null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="7"><li>修改表名</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>alter table userinfo rename to user<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="8"><li>修改字段的位置</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>alter table userinfo modify age int first<span class="token punctuation">;</span> <span class="token comment">// 需要指明数据类型才可</span>

alter table userinfo modify age int after name<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="9"><li>删除外键约束</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>alter table tableName drop foreign key keyName<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="注释"><a href="#注释" class="header-anchor">#</a> 注释</h3> <p>mysql支持三种注释</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code># comment     （单行注释）

<span class="token comment">/* comment */</span> （多行注释）

<span class="token operator">--</span> comment    （此处<span class="token operator">--</span>后至少有一个空格，单行注释）
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="mysql-命令行格式化"><a href="#mysql-命令行格式化" class="header-anchor">#</a> mysql 命令行格式化</h3> <p>使用 \G 符号，不需要 ;</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>select <span class="token operator">*</span> <span class="token keyword">from</span> student where student_id <span class="token operator">=</span> <span class="token number">111</span>\<span class="token constant">G</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="表操作"><a href="#表操作" class="header-anchor">#</a> 表操作</h3> <ol><li>创建</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>mysql<span class="token operator">&gt;</span> create table <span class="token function">userinfo</span><span class="token punctuation">(</span>name <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span> id int auto_increment<span class="token punctuation">,</span> primary <span class="token function">key</span> <span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Query <span class="token constant">OK</span><span class="token punctuation">,</span> <span class="token number">0</span> rows <span class="token function">affected</span> <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> desc userinfo<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> Field <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name  <span class="token operator">|</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token constant">NO</span>   <span class="token operator">|</span> <span class="token constant">PRI</span> <span class="token operator">|</span> <span class="token constant">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> id    <span class="token operator">|</span> <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> <span class="token constant">NO</span>   <span class="token operator">|</span> <span class="token constant">PRI</span> <span class="token operator">|</span> <span class="token constant">NULL</span>    <span class="token operator">|</span> auto_increment <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ol start="2"><li>删除</li></ol> <p>（1）当你不再需要该表时， 用 drop;</p> <p>（2）当你仍要保留该表，但要删除所有记录时， 用 truncate;</p> <p>（3）当你要删除部分记录时， 用 delete。</p> <p>执行的速度：drop &gt; truncate &gt; delete。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">delete</span> <span class="token keyword">from</span> userinfo where id <span class="token operator">=</span> <span class="token string">'aa'</span><span class="token punctuation">;</span>

truncate table userinfo<span class="token punctuation">;</span>

drop table userinfo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>插入</li></ol> <p>（1）添加数据的时候可以规定列进行添加，如果所有的列都要添加数据可以不规定列进行添加数据。</p> <p>（2）主键自增列的数据可以设置为null，其值会自动自增。</p> <p>（3）插入多条数据语法：</p> <p>insert info 表名(字段名1, 字段名2, ...) values(value1, value2, ...), (value1, value2, ...);</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>mysql<span class="token operator">&gt;</span> desc task<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> Field   <span class="token operator">|</span> Type        <span class="token operator">|</span> Null <span class="token operator">|</span> Key <span class="token operator">|</span> Default <span class="token operator">|</span> Extra          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> task_id <span class="token operator">|</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token constant">YES</span>  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token constant">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> name    <span class="token operator">|</span> <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token constant">YES</span>  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token constant">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">|</span> id      <span class="token operator">|</span> <span class="token function">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>     <span class="token operator">|</span> <span class="token constant">NO</span>   <span class="token operator">|</span> <span class="token constant">PRI</span> <span class="token operator">|</span> <span class="token constant">NULL</span>    <span class="token operator">|</span> auto_increment <span class="token operator">|</span>
<span class="token operator">|</span> time    <span class="token operator">|</span> datetime    <span class="token operator">|</span> <span class="token constant">YES</span>  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token constant">NULL</span>    <span class="token operator">|</span>                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>

insert into <span class="token function">task</span><span class="token punctuation">(</span>task_id<span class="token punctuation">,</span> time<span class="token punctuation">)</span> <span class="token function">values</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加一条数据</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> task_id <span class="token operator">|</span> name <span class="token operator">|</span> id <span class="token operator">|</span> time                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">11</span>      <span class="token operator">|</span> <span class="token constant">NULL</span> <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">05</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>

insert into task <span class="token function">values</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">,</span> <span class="token string">'bb'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 添加多条数据</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> task_id <span class="token operator">|</span> name <span class="token operator">|</span> id <span class="token operator">|</span> time                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">11</span>      <span class="token operator">|</span> <span class="token constant">NULL</span> <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">05</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">11</span>      <span class="token operator">|</span> aa   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">22</span>      <span class="token operator">|</span> bb   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>

insert into task <span class="token function">values</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将id赋值为5后后续的数据将会从5递增</span>
insert into task <span class="token function">values</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> task_id <span class="token operator">|</span> name <span class="token operator">|</span> id <span class="token operator">|</span> time                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">11</span>      <span class="token operator">|</span> <span class="token constant">NULL</span> <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">05</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">11</span>      <span class="token operator">|</span> aa   <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">22</span>      <span class="token operator">|</span> bb   <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">11</span>      <span class="token operator">|</span> aa   <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">54</span><span class="token operator">:</span><span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">11</span>      <span class="token operator">|</span> aa   <span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">54</span><span class="token operator">:</span><span class="token number">55</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><ol start="4"><li>更新</li></ol> <p>语法： update 表名 set 字段一 = value1, 字段二 = value2, ... where ...</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>update task <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">'cc'</span><span class="token punctuation">,</span> task_id <span class="token operator">=</span> <span class="token number">5</span> where id <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>

update task <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token keyword">default</span> where id <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> <span class="token comment">// 将指定的name设置为null</span>
<span class="token comment">// 等价于</span>
update task <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token keyword">null</span> where id <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>

update task <span class="token keyword">set</span> task_id <span class="token operator">=</span> task_id <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 将所有的task_id加1</span>

update task <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token function">replace</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">'aa'</span><span class="token punctuation">,</span> <span class="token string">'cc'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 将name字段中值为aa的全部替换为cc</span>
<span class="token comment">// 等价于</span>
update task <span class="token keyword">set</span> name <span class="token operator">=</span> <span class="token string">'cc'</span> where name <span class="token operator">=</span> <span class="token string">'aa'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="通配符"><a href="#通配符" class="header-anchor">#</a> 通配符</h3> <ol><li>like</li></ol> <p>常用通配符：% 、_ 、escape</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>% : 匹配0个或任意多个字符

_ : 匹配任意一个字符

escape ： 转义字符，可匹配%和_。如SELECT * FROM table_name WHERE column_name LIKE '/%/_%_' ESCAPE'/'
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="2"><li>rlike 和 REGEXP</li></ol> <p>常用通配符：. 、* 、 [] 、 ^ 、 $ 、{n}</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>. : 匹配任意单个字符

* ： 匹配0个或多个前一个得到的字符

[] : 匹配任意一个[]内的字符，[ab]*可匹配空串、a、b、或者由任意个a和b组成的字符串。

^ : 匹配开头，如^s匹配以s或者S开头的字符串。

$ : 匹配结尾，如s$匹配以s结尾的字符串。

{n} : 匹配前一个字符反复n次。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>like是完全匹配。rlike和regexp是不完全匹配。只要不同时匹配^和 $， 其他的包含即可。如 ^ba可以匹配baaa和baab，a也可以匹配baaa和baab，但是^bab$不能匹配baab。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> task<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> task_id <span class="token operator">|</span> name    <span class="token operator">|</span> id <span class="token operator">|</span> time                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">12</span>      <span class="token operator">|</span> abcdefg <span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">05</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">12</span>      <span class="token operator">|</span> defg    <span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">23</span>      <span class="token operator">|</span> abcd    <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">6</span>       <span class="token operator">|</span> bbcd    <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">54</span><span class="token operator">:</span><span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">12</span>      <span class="token operator">|</span> <span class="token constant">NULL</span>    <span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">54</span><span class="token operator">:</span><span class="token number">55</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">12</span>      <span class="token operator">|</span> dd      <span class="token operator">|</span> <span class="token number">11</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">25</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> task where name rlike <span class="token string">'^a.cd$'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> task_id <span class="token operator">|</span> name <span class="token operator">|</span> id <span class="token operator">|</span> time                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">23</span>      <span class="token operator">|</span> abcd <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> task where name rlike <span class="token string">'^b{2}cd$'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> task_id <span class="token operator">|</span> name <span class="token operator">|</span> id <span class="token operator">|</span> time                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">6</span>       <span class="token operator">|</span> bbcd <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">54</span><span class="token operator">:</span><span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> task where name rlike <span class="token string">'^bbb*cd$'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> task_id <span class="token operator">|</span> name <span class="token operator">|</span> id <span class="token operator">|</span> time                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">6</span>       <span class="token operator">|</span> bbcd <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">54</span><span class="token operator">:</span><span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> task where name rlike <span class="token string">'^bb*cd$'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> task_id <span class="token operator">|</span> name <span class="token operator">|</span> id <span class="token operator">|</span> time                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">6</span>       <span class="token operator">|</span> bbcd <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">54</span><span class="token operator">:</span><span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> task where name rlike <span class="token string">'^b*cd$'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> task_id <span class="token operator">|</span> name <span class="token operator">|</span> id <span class="token operator">|</span> time                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">6</span>       <span class="token operator">|</span> bbcd <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">54</span><span class="token operator">:</span><span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token number">1</span> row <span class="token keyword">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> task where name rlike <span class="token string">'^bb*bcd$'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> task_id <span class="token operator">|</span> name <span class="token operator">|</span> id <span class="token operator">|</span> time                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">6</span>       <span class="token operator">|</span> bbcd <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">54</span><span class="token operator">:</span><span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> task where name rlike <span class="token string">'^[ab]*cd$'</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> task_id <span class="token operator">|</span> name <span class="token operator">|</span> id <span class="token operator">|</span> time                <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token number">23</span>      <span class="token operator">|</span> abcd <span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">18</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">6</span>       <span class="token operator">|</span> bbcd <span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> <span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">23</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">54</span><span class="token operator">:</span><span class="token number">46</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br></div></div><h3 id="转义字符"><a href="#转义字符" class="header-anchor">#</a> 转义字符</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> task where name like <span class="token string">'/%ab/%%'</span> escape <span class="token string">'/'</span><span class="token punctuation">;</span>
<span class="token comment">// 等价于</span>
mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> task where name like <span class="token string">'\%ab\%%'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="union-操作符"><a href="#union-操作符" class="header-anchor">#</a> UNION 操作符</h3> <p>作用：连接两个以上的 SELECT 语句的结果组合到一个结果集合中。多个 SELECT 语句会删除重复的数据。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 语法格式</span>
<span class="token constant">SELECT</span> expression1<span class="token punctuation">,</span> expression2<span class="token punctuation">,</span> <span class="token operator">...</span> expression_n
<span class="token constant">FROM</span> tables
<span class="token punctuation">[</span><span class="token constant">WHERE</span> conditions<span class="token punctuation">]</span>
<span class="token constant">UNION</span> <span class="token punctuation">[</span><span class="token constant">ALL</span> <span class="token operator">|</span> <span class="token constant">DISTINCT</span><span class="token punctuation">]</span>
<span class="token constant">SELECT</span> expression1<span class="token punctuation">,</span> expression2<span class="token punctuation">,</span> <span class="token operator">...</span> expression_n
<span class="token constant">FROM</span> tables
<span class="token punctuation">[</span><span class="token constant">WHERE</span> conditions<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ol><li><p>DISTINCT: 可选，删除结果集中重复的数据。默认情况下 UNION 操作符已经删除了重复数据，所以 DISTINCT 修饰符对结果没啥影响。</p></li> <li><p>ALL: 可选，返回所有结果集，包含重复数据。</p></li></ol> <p>集合操作时，两边的输入必须拥有相同的列数，如果数据类型不同的话，mysql会自动进行隐式转化 ；同时，结果列的名称由第一个查询的列的名称决定。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> a<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> age  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> b<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> b_age <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>    <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>    <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span> cc   <span class="token operator">|</span>    <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select name<span class="token punctuation">,</span> age <span class="token keyword">from</span> a union select name<span class="token punctuation">,</span> b_age <span class="token keyword">from</span> b<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> age  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span> cc   <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select name <span class="token keyword">from</span> a union select name <span class="token keyword">from</span> b<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>
<span class="token operator">|</span> cc   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select name <span class="token keyword">from</span> a union all select name <span class="token keyword">from</span> b<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>
<span class="token operator">|</span> cc   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br></div></div><h3 id="排序"><a href="#排序" class="header-anchor">#</a> 排序</h3> <p>语法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token constant">SELECT</span> field1<span class="token punctuation">,</span> field2<span class="token punctuation">,</span><span class="token operator">...</span>fieldN <span class="token constant">FROM</span> table_name1<span class="token punctuation">,</span> table_name2<span class="token operator">...</span>
<span class="token constant">ORDER</span> <span class="token constant">BY</span> field1 <span class="token punctuation">[</span><span class="token constant">ASC</span> <span class="token punctuation">[</span><span class="token constant">DESC</span><span class="token punctuation">]</span><span class="token punctuation">[</span>默认 <span class="token constant">ASC</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>field2<span class="token operator">...</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token constant">ASC</span> <span class="token punctuation">[</span><span class="token constant">DESC</span><span class="token punctuation">]</span><span class="token punctuation">[</span>默认 <span class="token constant">ASC</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>默认情况下，按升序排列。</p> <h4 id="拼音排序"><a href="#拼音排序" class="header-anchor">#</a> 拼音排序</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 1. 如果字符集采用的是 gbk(汉字编码字符集)，直接在查询语句后边添加 ORDER BY：</span>
<span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> runoob_tbl <span class="token constant">ORDER</span> <span class="token constant">BY</span> runoob_title<span class="token punctuation">;</span>

<span class="token comment">// 2. 如果字符集采用的是 utf8(万国码)，需要先对字段进行转码然后排序：</span>
<span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> runoob_tbl <span class="token constant">ORDER</span> <span class="token constant">BY</span> <span class="token constant">CONVERT</span><span class="token punctuation">(</span>runoob_title using gbk<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h3 id="分组"><a href="#分组" class="header-anchor">#</a> 分组</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code>mysql<span class="token operator">&gt;</span> <span class="token constant">SELECT</span> <span class="token operator">*</span> <span class="token constant">FROM</span> employee_tbl<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> id <span class="token operator">|</span> name   <span class="token operator">|</span> date                <span class="token operator">|</span> singin <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> 小明 <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">22</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">25</span><span class="token operator">:</span><span class="token number">33</span> <span class="token operator">|</span>      <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> 小王 <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">20</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">25</span><span class="token operator">:</span><span class="token number">47</span> <span class="token operator">|</span>      <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> 小丽 <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">:</span><span class="token number">02</span> <span class="token operator">|</span>      <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> 小王 <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">:</span><span class="token number">14</span> <span class="token operator">|</span>      <span class="token number">4</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> 小明 <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">11</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">:</span><span class="token number">40</span> <span class="token operator">|</span>      <span class="token number">4</span> <span class="token operator">|</span>
<span class="token operator">|</span>  <span class="token number">6</span> <span class="token operator">|</span> 小明 <span class="token operator">|</span> <span class="token number">2016</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">26</span><span class="token operator">:</span><span class="token number">54</span> <span class="token operator">|</span>      <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> <span class="token constant">SELECT</span> name<span class="token punctuation">,</span> <span class="token constant">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token constant">FROM</span>   employee_tbl <span class="token constant">GROUP</span> <span class="token constant">BY</span> name<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> <span class="token constant">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> 小丽 <span class="token operator">|</span>        <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span> 小明 <span class="token operator">|</span>        <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span> 小王 <span class="token operator">|</span>        <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><h4 id="with-rollup-可以实现在分组统计数据基础上再进行相同的统计（sum-avg-count…）"><a href="#with-rollup-可以实现在分组统计数据基础上再进行相同的统计（sum-avg-count…）" class="header-anchor">#</a> WITH ROLLUP 可以实现在分组统计数据基础上再进行相同的统计（SUM,AVG,COUNT…）</h4> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 将以上的数据表按名字进行分组，再统计每个人登录的次数</span>
mysql<span class="token operator">&gt;</span> <span class="token constant">SELECT</span> name<span class="token punctuation">,</span> <span class="token constant">SUM</span><span class="token punctuation">(</span>singin<span class="token punctuation">)</span> <span class="token keyword">as</span> singin_count <span class="token constant">FROM</span>  employee_tbl <span class="token constant">GROUP</span> <span class="token constant">BY</span> name <span class="token constant">WITH</span> <span class="token constant">ROLLUP</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name   <span class="token operator">|</span> singin_count <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> 小丽 <span class="token operator">|</span>            <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span> 小明 <span class="token operator">|</span>            <span class="token number">7</span> <span class="token operator">|</span>
<span class="token operator">|</span> 小王 <span class="token operator">|</span>            <span class="token number">7</span> <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token constant">NULL</span>   <span class="token operator">|</span>           <span class="token number">16</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token comment">// 其中记录 NULL 表示所有人的登录次数</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="使用-coalesce-来设置一个可以取代-null-的名称"><a href="#使用-coalesce-来设置一个可以取代-null-的名称" class="header-anchor">#</a> 使用 coalesce 来设置一个可以取代 NUll 的名称</h4> <p>coalesce 语法：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>select <span class="token function">coalesce</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
参数说明：如果a<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">,</span>则选择b；如果b<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">,</span>则选择c；如果a<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">,</span>则选择a；如果a b c 都为<span class="token keyword">null</span> ，则返回为<span class="token keyword">null</span>（没意义）。
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code>mysql<span class="token operator">&gt;</span> <span class="token constant">SELECT</span> <span class="token function">coalesce</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">'总数'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">SUM</span><span class="token punctuation">(</span>singin<span class="token punctuation">)</span> <span class="token keyword">as</span> singin_count <span class="token constant">FROM</span>  employee_tbl <span class="token constant">GROUP</span> <span class="token constant">BY</span> name <span class="token constant">WITH</span> <span class="token constant">ROLLUP</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token function">coalesce</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">'总数'</span><span class="token punctuation">)</span> <span class="token operator">|</span> singin_count <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> 小丽                   <span class="token operator">|</span>            <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span> 小明                   <span class="token operator">|</span>            <span class="token number">7</span> <span class="token operator">|</span>
<span class="token operator">|</span> 小王                   <span class="token operator">|</span>            <span class="token number">7</span> <span class="token operator">|</span>
<span class="token operator">|</span> 总数                   <span class="token operator">|</span>           <span class="token number">16</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> <span class="token constant">SELECT</span> <span class="token function">coalesce</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token string">'总数'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> name<span class="token punctuation">,</span> <span class="token constant">SUM</span><span class="token punctuation">(</span>singin<span class="token punctuation">)</span> <span class="token keyword">as</span> singin_count <span class="token constant">FROM</span>  employee_tbl <span class="token constant">GROUP</span> <span class="token constant">BY</span> name <span class="token constant">WITH</span> <span class="token constant">ROLLUP</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name                  <span class="token operator">|</span> singin_count <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> 小丽                   <span class="token operator">|</span>            <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">|</span> 小明                   <span class="token operator">|</span>            <span class="token number">7</span> <span class="token operator">|</span>
<span class="token operator">|</span> 小王                   <span class="token operator">|</span>            <span class="token number">7</span> <span class="token operator">|</span>
<span class="token operator">|</span> 总数                   <span class="token operator">|</span>           <span class="token number">16</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h3 id="连接"><a href="#连接" class="header-anchor">#</a> 连接</h3> <ol><li>inner join 等价于 join：获取两个表中字段匹配关系的记录。</li> <li>left join：获取左表所有记录，即使右表没有对应匹配的记录（记录数与左表相同）。</li> <li>right join：获取右表所有记录，即使左表没有对应匹配的记录（记录数与右表相同）。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> a<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> age  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> b<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> b_age <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>    <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>    <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span> cc   <span class="token operator">|</span>    <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>    <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select a<span class="token punctuation">.</span>name<span class="token punctuation">,</span> a<span class="token punctuation">.</span>age<span class="token punctuation">,</span> b<span class="token punctuation">.</span>name<span class="token punctuation">,</span> b<span class="token punctuation">.</span>b_age <span class="token keyword">from</span> a join b on a<span class="token punctuation">.</span>name <span class="token operator">=</span> b<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> age  <span class="token operator">|</span> name <span class="token operator">|</span> b_age <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>    <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>    <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span> bb   <span class="token operator">|</span>    <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>    <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>    <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token comment">// 等价于</span>
mysql<span class="token operator">&gt;</span> select a<span class="token punctuation">.</span>name<span class="token punctuation">,</span> a<span class="token punctuation">.</span>age<span class="token punctuation">,</span> b<span class="token punctuation">.</span>name<span class="token punctuation">,</span> b<span class="token punctuation">.</span>b_age <span class="token keyword">from</span> a<span class="token punctuation">,</span> b where a<span class="token punctuation">.</span>name <span class="token operator">=</span> b<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> age  <span class="token operator">|</span> name <span class="token operator">|</span> b_age <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>    <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>    <span class="token number">10</span> <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span> bb   <span class="token operator">|</span>    <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>    <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span> aa   <span class="token operator">|</span>    <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><h3 id="null-值处理"><a href="#null-值处理" class="header-anchor">#</a> NULL 值处理</h3> <ol><li>IS NULL: 当列的值是 NULL,此运算符返回 true。</li> <li>IS NOT NULL: 当列的值不为 NULL, 运算符返回 true。</li> <li>&lt;=&gt;: 比较操作符（不同于=运算符），当比较的的两个值为 NULL 时返回 true。</li></ol> <p>不能使用 = NULL 或 != NULL 在列中查找 NULL 值 。在 MySQL 中，NULL 值与任何其它值的比较（即使是 NULL）永远返回 false，即 NULL = NULL 返回false 。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> a<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> age  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span>
<span class="token operator">|</span> cc   <span class="token operator">|</span> <span class="token constant">NULL</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span><span class="token punctuation">,</span> age <span class="token operator">+</span> <span class="token number">1</span> <span class="token keyword">from</span> a<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> age  <span class="token operator">|</span> age <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>      <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>      <span class="token number">13</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span>      <span class="token number">14</span> <span class="token operator">|</span>
<span class="token operator">|</span> cc   <span class="token operator">|</span> <span class="token constant">NULL</span> <span class="token operator">|</span>    <span class="token constant">NULL</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>

<span class="token comment">// 当 age 列中的值为 null 时会被替换成 1 进行运算</span>
mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span><span class="token punctuation">,</span> <span class="token function">ifnull</span><span class="token punctuation">(</span>age<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token keyword">from</span> a<span class="token punctuation">;</span> 
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> age  <span class="token operator">|</span> <span class="token function">ifnull</span><span class="token punctuation">(</span>age<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>                 <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>                 <span class="token number">13</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span>                 <span class="token number">14</span> <span class="token operator">|</span>
<span class="token operator">|</span> cc   <span class="token operator">|</span> <span class="token constant">NULL</span> <span class="token operator">|</span>                  <span class="token number">2</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> a where age <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> a where age is <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> age  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> cc   <span class="token operator">|</span> <span class="token constant">NULL</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> a where age is not <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> age  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">|</span> bb   <span class="token operator">|</span>   <span class="token number">12</span> <span class="token operator">|</span>
<span class="token operator">|</span> aa   <span class="token operator">|</span>   <span class="token number">13</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>

mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> <span class="token keyword">from</span> a where age <span class="token operator">&lt;=</span><span class="token operator">&gt;</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> name <span class="token operator">|</span> age  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> cc   <span class="token operator">|</span> <span class="token constant">NULL</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br></div></div><h3 id="复制表"><a href="#复制表" class="header-anchor">#</a> 复制表</h3> <ol><li>方法一</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 拷贝userinfo中的name，id至新的表userinfo1中</span>
create table <span class="token function">userinfo1</span> <span class="token punctuation">(</span>name <span class="token function">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span> id int<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 创建新表</span>
insert into <span class="token function">userinfo1</span> <span class="token punctuation">(</span>name<span class="token punctuation">,</span> id<span class="token punctuation">)</span> select name<span class="token punctuation">,</span> id <span class="token keyword">from</span> userinfo<span class="token punctuation">;</span> <span class="token comment">// 拷贝数据</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>方法二</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>create table userinfo1 like userinfo<span class="token punctuation">;</span> <span class="token comment">// 创建一个表userinfo1结构和userinfo表结构一致</span>
insert into userinfo1 select <span class="token operator">*</span> <span class="token keyword">from</span> userinfo<span class="token punctuation">;</span> <span class="token comment">// 拷贝所有的数据</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="3"><li>方法三</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>create table userinfo1 select <span class="token operator">*</span> <span class="token keyword">from</span> userinfo<span class="token punctuation">;</span> <span class="token comment">// 拷贝表结构和数据</span>

<span class="token comment">// 只拷贝表结构</span>
create table userinfo1 select <span class="token operator">*</span> <span class="token keyword">from</span> userinfo where <span class="token number">1</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// 条件不满足不拷贝数据</span>

<span class="token comment">// 拷贝部分数据</span>
create table userinfo1 select name<span class="token punctuation">,</span> id <span class="token keyword">from</span> userinfo<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="sum-if-的用法"><a href="#sum-if-的用法" class="header-anchor">#</a> SUM IF 的用法</h3> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> 
  member_id<span class="token punctuation">,</span> <span class="token function">SUM</span><span class="token punctuation">(</span><span class="token keyword">IF</span><span class="token punctuation">(</span>duration <span class="token operator">&gt;</span> <span class="token number">200</span><span class="token punctuation">,</span> duration<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span>
  outbound_record
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> member_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>含义：如果 SUM(duration) &gt; 200, 则将值计为 SUM(duration), 否则计为 0。</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/frame/mysql/other.html">
        其他用法
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.4058b836.js" defer></script><script src="/assets/js/2.8484adb1.js" defer></script><script src="/assets/js/42.8e71cd59.js" defer></script>
  </body>
</html>
