<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>正则 | 前端知识总结</title>
    <meta name="description" content="我的个人网站">
    <link rel="icon" href="/logo.jpg">
    
    <link rel="preload" href="/assets/css/0.styles.75df391b.css" as="style"><link rel="preload" href="/assets/js/app.550883f8.js" as="script"><link rel="preload" href="/assets/js/19.65556cf4.js" as="script"><link rel="prefetch" href="/assets/js/10.103585c3.js"><link rel="prefetch" href="/assets/js/11.00d1804d.js"><link rel="prefetch" href="/assets/js/12.56b1bc69.js"><link rel="prefetch" href="/assets/js/13.121d82b4.js"><link rel="prefetch" href="/assets/js/14.45594fa8.js"><link rel="prefetch" href="/assets/js/15.ad861aa0.js"><link rel="prefetch" href="/assets/js/16.c24c9001.js"><link rel="prefetch" href="/assets/js/17.0e089bde.js"><link rel="prefetch" href="/assets/js/18.a07646d9.js"><link rel="prefetch" href="/assets/js/2.308566b2.js"><link rel="prefetch" href="/assets/js/20.a2eaa849.js"><link rel="prefetch" href="/assets/js/21.36a661a0.js"><link rel="prefetch" href="/assets/js/22.f97dc910.js"><link rel="prefetch" href="/assets/js/23.bfa7b2c5.js"><link rel="prefetch" href="/assets/js/24.b6555743.js"><link rel="prefetch" href="/assets/js/25.af5fe5ca.js"><link rel="prefetch" href="/assets/js/26.91339144.js"><link rel="prefetch" href="/assets/js/27.1ff73072.js"><link rel="prefetch" href="/assets/js/28.435540ec.js"><link rel="prefetch" href="/assets/js/29.f15d8505.js"><link rel="prefetch" href="/assets/js/3.894847c3.js"><link rel="prefetch" href="/assets/js/30.5012497b.js"><link rel="prefetch" href="/assets/js/31.d8c2f5dd.js"><link rel="prefetch" href="/assets/js/32.dfcf8d52.js"><link rel="prefetch" href="/assets/js/33.e9d8a3d4.js"><link rel="prefetch" href="/assets/js/34.23cb6359.js"><link rel="prefetch" href="/assets/js/35.eee977ee.js"><link rel="prefetch" href="/assets/js/36.77b11067.js"><link rel="prefetch" href="/assets/js/37.ef0c1e5b.js"><link rel="prefetch" href="/assets/js/38.7c3db299.js"><link rel="prefetch" href="/assets/js/4.b06022f6.js"><link rel="prefetch" href="/assets/js/5.c68b8d36.js"><link rel="prefetch" href="/assets/js/6.232b786f.js"><link rel="prefetch" href="/assets/js/7.1ac6518a.js"><link rel="prefetch" href="/assets/js/8.fe21a8e6.js"><link rel="prefetch" href="/assets/js/9.6b9fb30e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.75df391b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端知识总结</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/base/css/" class="nav-link">Css</a></li><li class="dropdown-item"><!----> <a href="/base/js/" class="nav-link router-link-active">JS</a></li><li class="dropdown-item"><!----> <a href="/base/interview/" class="nav-link">汇总</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/frame/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/frame/element/" class="nav-link">Element</a></li><li class="dropdown-item"><!----> <a href="/frame/node/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/frame/miniprogram/" class="nav-link">小程序</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/chrome/" class="nav-link">Chrome</a></li><li class="dropdown-item"><!----> <a href="/tools/npm/" class="nav-link">NPM</a></li><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/tools/webpack/" class="nav-link">Webpack</a></li></ul></div></div><div class="nav-item"><a href="https://blog.csdn.net/greybearchao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">基础</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/html/" class="nav-link">HTML</a></li><li class="dropdown-item"><!----> <a href="/base/css/" class="nav-link">Css</a></li><li class="dropdown-item"><!----> <a href="/base/js/" class="nav-link router-link-active">JS</a></li><li class="dropdown-item"><!----> <a href="/base/interview/" class="nav-link">汇总</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue/" class="nav-link">Vue</a></li><li class="dropdown-item"><!----> <a href="/frame/react/" class="nav-link">React</a></li><li class="dropdown-item"><!----> <a href="/frame/element/" class="nav-link">Element</a></li><li class="dropdown-item"><!----> <a href="/frame/node/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/frame/miniprogram/" class="nav-link">小程序</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">工具</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/tools/chrome/" class="nav-link">Chrome</a></li><li class="dropdown-item"><!----> <a href="/tools/npm/" class="nav-link">NPM</a></li><li class="dropdown-item"><!----> <a href="/tools/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/tools/webpack/" class="nav-link">Webpack</a></li></ul></div></div><div class="nav-item"><a href="https://blog.csdn.net/greybearchao" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/base/js/" class="sidebar-link">JS</a></li><li><a href="/base/js/base.html" class="sidebar-link">知识汇总</a></li><li><a href="/base/js/reg.html" class="active sidebar-link">正则</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/js/reg.html#基础知识" class="sidebar-link">基础知识</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/js/reg.html#基础介绍" class="sidebar-link">基础介绍</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#惰性匹配" class="sidebar-link">惰性匹配</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#匹配位置" class="sidebar-link">匹配位置</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#捕获组" class="sidebar-link">捕获组</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#反向引用" class="sidebar-link">反向引用</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#非捕获分组" class="sidebar-link">非捕获分组</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#回溯" class="sidebar-link">回溯</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#操作符优先级" class="sidebar-link">操作符优先级</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#效率" class="sidebar-link">效率</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#方法实践" class="sidebar-link">方法实践</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#用法案例" class="sidebar-link">用法案例</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/js/reg.html#匹配任意字符" class="sidebar-link">匹配任意字符</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#匹配16进制颜色" class="sidebar-link">匹配16进制颜色</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#匹配时间" class="sidebar-link">匹配时间</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#匹配日期" class="sidebar-link">匹配日期</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#匹配id" class="sidebar-link">匹配id</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#千分位分隔符" class="sidebar-link">千分位分隔符</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#用户名校验" class="sidebar-link">用户名校验</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#密码校验" class="sidebar-link">密码校验</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#将yyyy-mm-dd格式，替换成mm-dd-yyyy" class="sidebar-link">将yyyy-mm-dd格式，替换成mm/dd/yyyy</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#自定义实现-trim-方法" class="sidebar-link">自定义实现 trim 方法</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#首字母转化为大写" class="sidebar-link">首字母转化为大写</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#ipv4地址校验" class="sidebar-link">IPV4地址校验</a></li><li class="sidebar-sub-header"><a href="/base/js/reg.html#其它" class="sidebar-link">其它</a></li></ul></li></ul></li><li><a href="/base/js/es6.html" class="sidebar-link">ES6</a></li></ul> </div> <div class="page"> <div class="content"><p><a href="https://juejin.im/post/5965943ff265da6c30653879" target="_blank" rel="noopener noreferrer">正则文章<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="基础知识"><a href="#基础知识" aria-hidden="true" class="header-anchor">#</a> 基础知识</h2> <h3 id="基础介绍"><a href="#基础介绍" aria-hidden="true" class="header-anchor">#</a> 基础介绍</h3> <div class="tip custom-block"><p class="custom-block-title">量词</p> <p>{m,} 表示至少出现m次。 // 注：逗号后不能有空格，如：{1, 3}为错误的写法</p> <p>{m} 等价于{m,m}，表示出现m次。</p> <p>? 等价于{0,1}，表示出现或者不出现。</p> <p>+ 等价于{1,}，表示出现至少一次。</p> <p>* 等价于{0,}，表示出现任意次，有可能不出现。</p> <p>\w 等价于 [0-9a-zA-Z_]</p> <p>\W 等价于 [^0-9a-zA-Z_]</p> <p>转义字符：\</p> <p>[100-999] // 错误的写法，只有 [0-9] 这种写法</p></div> <h3 id="惰性匹配"><a href="#惰性匹配" aria-hidden="true" class="header-anchor">#</a> 惰性匹配</h3> <p class="fr_th">在量词后面加个问号实现惰性匹配。</p> <div class="tip custom-block"><p class="custom-block-title">所有惰性匹配情形</p> <p>{m,n}? {m,}? ?? +? *?</p></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/12+/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'12222'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['12222']</span>

<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/12+?/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'12222'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['12']</span>

<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/12?/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'12222'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['12']</span>

<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/12??/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'12222'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['1']</span>

<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/12*/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'12222'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['12222']</span>

<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/12*?/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'12222'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['1']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p class="fg_t">多选分支</p> <p>使用管道符 |</p> <p>分支结构也是惰性的，即当前面的匹配上了，后面的就不会再匹配。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/good|goodbye/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'goodbye'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// good</span>

<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/goodbye|good/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'goodbye'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// goodbye</span>

<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/good|bye/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'goodbye'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['good', 'bye']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="匹配位置"><a href="#匹配位置" aria-hidden="true" class="header-anchor">#</a> 匹配位置</h3> <p class="fr_th">匹配位置的6个字符：^ $ \b \B (?=p) (?!p)</p> <p class="fg_th">位置可以替换成字符！</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(^|$)/g</span>
<span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(^|$)/</span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span> <span class="token comment">// #hello</span>
<span class="token keyword">var</span> str2 <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(^|$)/g</span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span> <span class="token comment">// #hello#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p class="fg_th">多行匹配模式</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(^|$)/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'hello\nworld'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(^|$)/gm</span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span>
<span class="token comment">/*
#hello#
#world#
*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p class="fg_th">正则表达式m修饰符</p> <p>m 修饰符规定正则表达式可以执行多行匹配。</p> <p>m 修饰符的作用是修改 ^ 和 $ 在正则表达式中的作用，让它们分别表示行首和行尾。</p> <p>在默认状态下，一个字符串无论是否换行只有一个开始 ^ 和结尾 $，如果采用多行匹配，那么每一行都有一个 ^ 和结尾 $。</p> <p class="fg_th">\b 和 \B</p> <p>\b是单词边界，具体就是\w和\W之间的位置，也包括\w和^之间的位置，也包括\w和$之间的位置。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(^|$)/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'[J-S] Lesson_01.mp4'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\b/g</span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// [#J#-#S#] #Lesson_01#.#mp4#</span>

<span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token string">'1a_'</span>
<span class="token punctuation">(</span><span class="token regex">/^\w*$/</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token keyword">var</span> str2 <span class="token operator">=</span> <span class="token string">'1a_-'</span>
<span class="token punctuation">(</span><span class="token regex">/^\w*$/</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p class="fg_th">(?=p)和(?!p)</p> <p>(?=p)，其中p是一个子模式，即p前面的位置。</p> <p>(?=p)：正向先行断言。</p> <p>(?!p)：负向先行断言。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(^|$)/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(?=l)/g</span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span> <span class="token comment">// he#l#lo</span>

<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(^|$)/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(?!l)/g</span><span class="token punctuation">,</span> <span class="token string">'#'</span><span class="token punctuation">)</span> <span class="token comment">// #h#ell#o#</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>对于位置的理解，我们可以理解成空字符&quot;&quot;。</p> <h3 id="捕获组"><a href="#捕获组" aria-hidden="true" class="header-anchor">#</a> 捕获组</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(\d{4})-(\d{2})-(\d{2})/</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'2018-08-18'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;2018-08-18&quot;, &quot;2018&quot;, &quot;08&quot;, &quot;18&quot;, index: 0, input: &quot;2018-08-18&quot;, groups: undefined]</span>

<span class="token comment">// 注意加 g 修饰符和不加的区别：</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(\d{4})-(\d{2})-(\d{2})/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'2018-08-18'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;2018-08-18&quot;]</span>

<span class="token comment">// 使用构造函数的全局属性$1至$9来获取</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(\d{4})-(\d{2})-(\d{2})/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'2018-08-18'</span>
reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// 执行正则操作</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 2018</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 08</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 18</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="反向引用"><a href="#反向引用" aria-hidden="true" class="header-anchor">#</a> 反向引用</h3> <p class="fr_t">括号嵌套</p> <p>以左括号（开括号）为准</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/^((\d)(\d(\d)))\1\2\3\4$/</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'1231231233'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 123</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment">// 23</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>RegExp<span class="token punctuation">.</span>$<span class="token number">4</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p class="fr_t">\10的含义</p> <p>\10 表示第 10 个分组，而不是表示 \1 和 0</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(1)(2)(3)(4)(5)(6)(7)(8)(9)(#)\10/</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'123456789##'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="非捕获分组"><a href="#非捕获分组" aria-hidden="true" class="header-anchor">#</a> 非捕获分组</h3> <p>(?:p)：使用括号最原始的功能，但不会引用它，即既不在API里引用，也不在正则里反向引用。</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(ab)+/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'ababa abbb ababab'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;abab&quot;, &quot;ab&quot;, &quot;ababab&quot;]</span>

<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(ab)+/</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'ababa abbb ababab'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;abab&quot;, &quot;ab&quot;, index: 0, input: &quot;ababa abbb ababab&quot;, groups: undefined]</span>

<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(?:ab)+/</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'ababa abbb ababab'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>reg<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// [&quot;abab&quot;, index: 0, input: &quot;ababa abbb ababab&quot;, groups: undefined]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="回溯"><a href="#回溯" aria-hidden="true" class="header-anchor">#</a> 回溯</h3> <p>因为回溯的存在，需要引擎保存多种可能中未尝试过的状态，以便后续回溯时使用。注定要占用一定的内存。</p> <h3 id="操作符优先级"><a href="#操作符优先级" aria-hidden="true" class="header-anchor">#</a> 操作符优先级</h3> <div class="tip custom-block"><p class="custom-block-title">优先级</p> <ol><li>转义符 \</li> <li>括号和方括号 (...)、(?:...)、(?=...)、(?!...)、[...]</li> <li>量词限定符 {m}、{m,n}、{m,}、?、*、+</li> <li>位置和序列 ^ 、$、 \元字符、 一般字符</li> <li>管道符（竖杠）|</li></ol></div> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 匹配整个字符串 abc 或 def</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'abccc'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex">/^abc|def$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token regex">/^(abc|def)$/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p class="fr_t">元字符：^ $ . * + ? | \ / ( ) [ ] { } = ! : - ,</p> <p class="fr_t">需要转义的字符</p> <ol><li>如 = ! : - ,等符号，只要不在特殊结构中，也不需要转义。</li> <li>^ $ . * + ? | \ /等字符，只要不在字符组内，都需要转义。</li></ol> <h3 id="效率"><a href="#效率" aria-hidden="true" class="header-anchor">#</a> 效率</h3> <ol><li>括号的作用之一是，可以捕获分组和分支里的数据。那么就需要内存来保存它们。当我们不需要使用分组引用和反向引用时，此时可以使用非捕获分组。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token regex">/^[+-]?(\d+\.\d+|\d+|\.\d+)$/</span>
<span class="token comment">// 修改成</span>
<span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">[</span><span class="token operator">+</span><span class="token operator">-</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token punctuation">:</span>\d<span class="token operator">+</span>\<span class="token punctuation">.</span>\d<span class="token operator">+</span><span class="token operator">|</span>\d<span class="token operator">+</span><span class="token operator">|</span>\<span class="token punctuation">.</span>\d<span class="token operator">+</span><span class="token punctuation">)</span>$<span class="token operator">/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="方法实践"><a href="#方法实践" aria-hidden="true" class="header-anchor">#</a> 方法实践</h3> <p class="fr_t">split</p> <ol><li>设置第二个参数表示限制返回的数组的最大长度。</li> <li>正则使用分组时，返回的结果中包含分组的内容。</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'html,css,js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/,/</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['html', 'css', 'js']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/,/</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['html', 'css']</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token regex">/(,)/</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// ['html', ',', 'css', ',', 'js']</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="用法案例"><a href="#用法案例" aria-hidden="true" class="header-anchor">#</a> 用法案例</h2> <p class="fg_th">匹配 “a”、“-”、“z” 这三者中任意一个字符的表示方法</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token operator">-</span>az<span class="token punctuation">]</span> 或 <span class="token punctuation">[</span>az<span class="token operator">-</span><span class="token punctuation">]</span> 或 <span class="token punctuation">[</span>a\<span class="token operator">-</span>z<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="匹配任意字符"><a href="#匹配任意字符" aria-hidden="true" class="header-anchor">#</a> 匹配任意字符<p></p></h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token punctuation">[</span>\d\<span class="token constant">D</span><span class="token punctuation">]</span> 或 <span class="token punctuation">[</span>\w\<span class="token constant">W</span><span class="token punctuation">]</span> 或 <span class="token punctuation">[</span>\s\<span class="token constant">S</span><span class="token punctuation">]</span> 或 <span class="token punctuation">[</span><span class="token operator">^</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="匹配16进制颜色"><a href="#匹配16进制颜色" aria-hidden="true" class="header-anchor">#</a> 匹配16进制颜色</h3> <p>规则：</p> <ol><li>0-9，a-f， A-F</li> <li>3位或6位</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})/g</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="匹配时间"><a href="#匹配时间" aria-hidden="true" class="header-anchor">#</a> 匹配时间</h3> <p>规则：24小时制（如：20:00）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/^([01][0-9]|[2][0-3]):[0-5][0-9]$/g</span>

<span class="token comment">// 允许省略前面的0（如：7:9）</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/^(0?[0-9]|1[0-9]|[2][0-3]):(0?[0-9]|[1-5][0-9])$/g</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="匹配日期"><a href="#匹配日期" aria-hidden="true" class="header-anchor">#</a> 匹配日期</h3> <p>规则：yyyy-mm-dd 格式（如：2019-04-24）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])$/g</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="匹配id"><a href="#匹配id" aria-hidden="true" class="header-anchor">#</a> 匹配id</h3> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token comment">&lt;!--如：--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>container<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token operator">/</span>id<span class="token operator">=</span><span class="token string">&quot;.*?&quot;</span><span class="token operator">/</span> <span class="token comment">// 使用惰性匹配，否则会匹配到最后的 &quot;</span>
<span class="token comment">// 问题：涉及到回溯，效率较低</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token operator">/</span>id<span class="token operator">=</span><span class="token string">&quot;.*&quot;</span><span class="token operator">/</span> <span class="token comment">// id=&quot;container&quot; class=&quot;main&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="千分位分隔符"><a href="#千分位分隔符" aria-hidden="true" class="header-anchor">#</a> 千分位分隔符</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">formatAmount</span> <span class="token punctuation">(</span>amount<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 千分位分隔符 1,234,567</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>amount <span class="token operator">+</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/(?!^)(?=(\d{3})+$)/g</span><span class="token punctuation">,</span> <span class="token string">','</span><span class="token punctuation">)</span>
  <span class="token comment">// 或 return (amount + '').replace(/\d{1,3}(?=(\d{3})+$)/g, '$&amp;,')</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatAmount</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 123</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatAmount</span><span class="token punctuation">(</span><span class="token number">123456</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 123,456</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatAmount</span><span class="token punctuation">(</span><span class="token number">1234567</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 1,234,567</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="用户名校验"><a href="#用户名校验" aria-hidden="true" class="header-anchor">#</a> 用户名校验</h3> <p>规则：</p> <ol><li>4-16位</li> <li>数字、字母、下划线、中划线、中文</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">checkUserName</span> <span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 用户名校验</span>
  <span class="token keyword">return</span><span class="token punctuation">(</span><span class="token regex">/^[\u4E00-\u9FA5\w-]{4,16}$/</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 中文算1个字符</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h3 id="密码校验"><a href="#密码校验" aria-hidden="true" class="header-anchor">#</a> 密码校验</h3> <p>规则：</p> <ol><li>6~12位</li> <li>数字，字母且至少包含两种字符</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">/*方案一：使用(?=)
1. 包含数字和小写字母
2. 包含数字和大写字母
3. 包含小写字母和大写字母
*/</span>
<span class="token keyword">function</span> <span class="token function">checkPassword</span> <span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 密码校验</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token regex">/((?=.*\d)(?=.*[a-zA-Z])|(?=.*[a-z])(?=.*[A-Z]))^[0-9a-zA-Z]{6,12}$/g</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>password <span class="token operator">+</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">checkPassword</span><span class="token punctuation">(</span><span class="token number">123123</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">checkPassword</span><span class="token punctuation">(</span><span class="token string">'123456a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">checkPassword</span><span class="token punctuation">(</span><span class="token string">'123456A'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">checkPassword</span><span class="token punctuation">(</span><span class="token string">'aaaAAA'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">checkPassword</span><span class="token punctuation">(</span><span class="token string">'aaaaaaa'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">/*
(?=.*\d) 和 ^ 表示开头前还有个位置，也是开头（当成空字符串）。
(?=.*\d) 表示该位置后面的字符匹配 .*\d，即有任何多个任意字符，后面再跟个数字。
理解为：接下来的字符必须包含数字。
*/</span>

<span class="token comment">/*方案二：使用(?!)
1. 不能全为数字
2. 不能全为小写字母
3. 不能全为大写字母
*/</span>
<span class="token keyword">function</span> <span class="token function">checkPassword</span> <span class="token punctuation">(</span>password<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// 密码校验</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token regex">/(?!^[0-9]{6,12}$)(?!^[a-z]{6,12}$)(?!^[A-Z])^[0-9a-zA-Z]{6,12}$/g</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>password <span class="token operator">+</span><span class="token string">''</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><h3 id="将yyyy-mm-dd格式，替换成mm-dd-yyyy"><a href="#将yyyy-mm-dd格式，替换成mm-dd-yyyy" aria-hidden="true" class="header-anchor">#</a> 将yyyy-mm-dd格式，替换成mm/dd/yyyy</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 方法一：</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/(\d{4})-(\d{2})-(\d{2})/g</span>
<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'2018-08-18'</span>
<span class="token keyword">var</span> res <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token string">'$2/$3/$1'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token comment">// 08/18/2018</span>

<span class="token comment">// 方法二：</span>
<span class="token keyword">var</span> res <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> RegExp<span class="token punctuation">.</span>$<span class="token number">2</span> <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> RegExp<span class="token punctuation">.</span>$<span class="token number">3</span> <span class="token operator">+</span><span class="token string">'/'</span> <span class="token operator">+</span> RegExp<span class="token punctuation">.</span>$<span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 方法三：</span>
<span class="token keyword">var</span> res <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>reg<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>match<span class="token punctuation">,</span> year<span class="token punctuation">,</span> month<span class="token punctuation">,</span> day<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> month <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span> day <span class="token operator">+</span> <span class="token string">'/'</span> <span class="token operator">+</span>  year
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h3 id="自定义实现-trim-方法"><a href="#自定义实现-trim-方法" aria-hidden="true" class="header-anchor">#</a> 自定义实现 trim 方法</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">' ab c d'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^\s*(.*?)\s*$/</span><span class="token punctuation">,</span> <span class="token string">'$1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 'ab c d'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/^\s*|\s*$/</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 'ab c d'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="首字母转化为大写"><a href="#首字母转化为大写" aria-hidden="true" class="header-anchor">#</a> 首字母转化为大写</h3> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'my name is haha'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\b\w/g</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>letter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> letter<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// My Name Is Haha</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'this is a test'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\b(\w)/g</span><span class="token punctuation">,</span> <span class="token string">'$1'</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// this is a test</span>
<span class="token comment">/* 此处直接调用toUpperCase()为什么没有将首字母转化为大写呢？
原因：此处相当于将$1字符串转化为大写，其还是$1，而不是把$1的结果转化为大写*/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="ipv4地址校验"><a href="#ipv4地址校验" aria-hidden="true" class="header-anchor">#</a> IPV4地址校验</h3> <p>分析：</p> <ol><li>匹配一位数，补齐0，0的个数可能为 0~3 个</li> <li>匹配两位数，补齐0，0的个数可能为 0~1 个</li> <li>匹配三位数，100~199，200~249，250~255</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/^((0{0,2}\d|0?\d{2}|1\d{2}|2[0-4]\d|25[0-5])\.){3}(0{0,2}\d|0?\d{2}|1\d{2}|2[0-4]\d|25[0-5])$/</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="其它"><a href="#其它" aria-hidden="true" class="header-anchor">#</a> 其它</h3> <p>匹配如下三种格式：</p> <ol><li>2016-06-12</li> <li>2016/06/12</li> <li>2016.06.12</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// 使用反向引用 /1</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/\d{4}(-|\/|\.)\d{2}\1\d{2}/</span>  
<span class="token keyword">var</span> str1 <span class="token operator">=</span> <span class="token string">'2018-08-18'</span>
<span class="token keyword">var</span> str2 <span class="token operator">=</span> <span class="token string">'2018/08/18'</span>
<span class="token keyword">var</span> str3 <span class="token operator">=</span> <span class="token string">'2018.08.18'</span>
<span class="token keyword">var</span> str4 <span class="token operator">=</span> <span class="token string">'2018.08/18'</span> <span class="token comment">// 如果使用(-|\/|\.)替代\1则此项也为true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str2<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str3<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>str4<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/base/js/base.html" class="prev">
          知识汇总
        </a></span> <span class="next"><a href="/base/js/es6.html">
          ES6
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/app.550883f8.js" defer></script><script src="/assets/js/19.65556cf4.js" defer></script>
  </body>
</html>
